<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
	</body>
	<div id="app">
		{{arr}}
		<!-- 使用计算属性，不能加括号 -->
		<p>数组总和={{getSum}}</p>
		<input type="text" v-model="Username" /><br>
		<button @click="arr.push(8)">添加值</button>
		<button @click="show()">展示值</button>
	</div>

	<!-- 引入vue.js框架 -->
	<script src="../plus/vue.global.js"></script>
	<script>
		const app = Vue.createApp({
			// 保存数据的对象
			data: function() {
				return {
					arr: [1, 2, 3, 4, 5, 6, 7],
					// 在data中使用一个变量保存Username的值
					usernameDate: "",
				}
			},
			// 保存函数的对象
			methods: {
				show() {
					// 计算属性可以在vue中的任何地方使用
					// 比如说vue中其他函数中使用
					console.log("getSum", this.getSum);
					console.log("usernameDate", this.usernameDate);
				}
			},
			// 计算属性对象
			computed: {
				// 当data中的值，需要经过一系列的计算才能输出的时候
				// 使用计算属性而非函数实现
				// 使用函数获取总和
				getSum() {
					let sum = 0;
					this.arr.forEach((num) => {
						sum += num;
					})
					return sum;
				},
				// 计算属性的进阶写法
				// 使用对象类型，完成计算属性
				Username: {
					// 通过这样的方法，掌控了这个值的查改的行为，这种情况我们也称之为拦截
					get() {
						console.log("有请求这个值的地方");
						return this.usernameDate;
					},
					// 这个value是当前设置，传入的值
					set(value) {
						console.log("有设置这个值的地方", value);
						// 我们这里没有保存这个值，这里只是获取到了这个值
						// 除非我们将值，保存在data中，然后通过value赋值
						this.usernameDate = value;
					}
				}
			}
		});
		app.mount("#app");
	</script>
</html>